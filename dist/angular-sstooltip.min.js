!function(t,o){"function"==typeof define&&define.amd?define(["jquery","angular","sstooltip"],o):o(t.$,t.angular,t.sstooltip)}(this,function(t,o,n){function i(t,o){t.$$phase||t.$root.$$phase?o():t.$apply(o)}function e(t,o,n){return s(t)?t(o):t?t:n}var s=function(t){var o={};return t&&"[object Function]"===o.toString.call(t)},a=o.module("sstooltip",[]);return a.directive("sstooltip",[function(){return{restrict:"AE",replace:!0,template:'<div class="sstooltip-container"><div class="sstooltip"><div ng-if="tooltipText">{{tooltipText}}</div><div ng-if="tooltipSrc"><ng-include src="tooltipSrc"></ng-include></div></div></div>',scope:{tooltipKey:"@",tooltipSrc:"=",tooltipText:"="},link:function(t,e,s){var a=e[0].querySelector(".sstooltip"),l=new n(a);s.tooltipTheme&&o.element(a).addClass("sstooltip-"+s.tooltipTheme),o.element(a).on("touchstart",function(t){l.hide(),t.preventDefault(),t.stopPropagation()}),t.$on("sstooltip:show",function(o,n,e){n==t.tooltipKey&&(i(t,function(){t.data=e.data}),l.show(null,e.mouseEvent))}),t.$on("sstooltip:move",function(o,n,i){n==t.tooltipKey&&l.show(null,i.mouseEvent)}),t.$on("sstooltip:hide",function(){l.hide()})}}}]),a.factory("sstooltipManager",[function(){return function(t,n){function i(o,n,i,s,c){o&&t.$on(o,function(t,o){a(e(c,o,o.mouseEvent),e(s,o,o.data))}),n&&t.$on(n,function(t,o){l(e(c,o,o.mouseEvent),e(s,o,o.data))}),i&&t.$on(i,function(){u()})}function s(t,n,i,s,c){var r=o.element(t);n&&r.on(n,function(t){a(t,e(c,t,t.data))}),i&&r.on(i,function(t){l(t,e(c,t,t.data))}),s&&r.on(s,u)}function a(o,i){t.$broadcast("sstooltip:show",n,{mouseEvent:o,data:i})}function l(o,i){t.$broadcast("sstooltip:move",n,{mouseEvent:o,data:i})}function u(){t.$broadcast("sstooltip:hide",n)}return{triggerOnScopeEvents:i,triggerOnDomEvents:s,show:a,move:l,hide:u}}}]),a});